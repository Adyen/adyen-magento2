<?xml version="1.0"?>
<!--
/**
 *
 * Adyen Payment module (https://www.adyen.com/)
 *
 * Copyright (c) 2023 Adyen N.V. (https://www.adyen.com/)
 * See LICENSE.txt for license details.
 *
 * Author: Adyen <magento@adyen.com>
 */
-->
<include xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="urn:magento:module:Magento_Config:etc/system_include.xsd">
    <group id="adyen_card_payments" translate="label" type="text" sortOrder="100" showInDefault="1" showInWebsite="1"
           showInStore="1">
        <label><![CDATA[Card payments]]></label>
        <frontend_model>Magento\Config\Block\System\Config\Form\Fieldset</frontend_model>
        <comment>
            <![CDATA[<p>Optimize your shopperâ€™s security and elevate their experience with <a href="https://docs.adyen.com/plugins/adobe-commerce/set-up-the-payment-methods-in-adobe-commerce#card-payments" target="_blank">card payments</a>.</p>]]>
        </comment>
        <field id="has_holder_name" translate="label" type="select" sortOrder="10" showInDefault="1"
               showInWebsite="1" showInStore="1">
            <label>Show cardholder name field for cards</label>
            <source_model>Magento\Config\Model\Config\Source\Yesno</source_model>
            <tooltip>When set to Yes, the input field for cardholder name is shown at checkout. If you support Visa, you must show the cardholder name field.</tooltip>
            <config_path>payment/adyen_abstract/has_holder_name</config_path>
        </field>
        <field id="holder_name_required" translate="label" type="select" sortOrder="15" showInDefault="1"
               showInWebsite="1" showInStore="1">
            <label>Require cardholder name</label>
            <source_model>Magento\Config\Model\Config\Source\Yesno</source_model>
            <tooltip>When set to Yes, the shopper is required to provide the cardholder name. If you support Visa, the cardholder name field must be required.</tooltip>
            <config_path>payment/adyen_abstract/holder_name_required</config_path>
            <depends>
                <field id="has_holder_name">1</field>
            </depends>
        </field>
        <field id="enable_installments" translate="label" type="select" sortOrder="20" showInDefault="1"
               showInWebsite="1" showInStore="1">
            <label>Enable installments</label>
            <source_model>Magento\Config\Model\Config\Source\Yesno</source_model>
            <tooltip>When set to Yes, shoppers can choose to pay in installments.</tooltip>
            <config_path>payment/adyen_cc/enable_installments</config_path>
        </field>
        <field id="installments" translate="label" sortOrder="25" showInDefault="1" showInWebsite="1"
               showInStore="1">
            <label>Installments</label>
            <depends>
                <field id="enable_installments">1</field>
            </depends>
            <tooltip>Configure installment rules for each credit card type. Insert the minimum total payment amount from which you want to offer installments and
                the number of installments you want to offer for each credit card.
                For example: if the minimum amount is 100 and the number of installments is 4x, the shopper
                will see the 4x option only if the payment total is higher or equal than 100.
            </tooltip>
            <frontend_model>Adyen\Payment\Block\Adminhtml\System\Config\Field\Installments</frontend_model>
            <backend_model>Adyen\Payment\Model\Config\Backend\Installments</backend_model>
            <config_path>payment/adyen_cc/installments</config_path>
        </field>
        <field id="send_level23_data" translate="label" type="select" sortOrder="30" showInDefault="1" showInWebsite="1" showInStore="1">
            <label>Send Level 2/3 enhanced scheme data</label>
            <source_model>Magento\Config\Model\Config\Source\Yesno</source_model>
            <config_path>payment/adyen_abstract/send_level23_data</config_path>
            <comment>
                <![CDATA[
                When set to Yes, <a target="_blank" href="https://docs.adyen.com/payment-methods/cards/enhanced-scheme-data/l2-l3/">level 2/3 enhanced scheme data </a>
                will be sent for credit card payments.
                ]]>
            </comment>
        </field>
        <field id="enable_click_to_pay" translate="label" type="select" sortOrder="40" showInDefault="1" showInWebsite="1">
            <label>Enable Click to Pay</label>
            <comment>
                <![CDATA[
                When set to Yes, shoppers can pay with <a target="_blank" href="https://docs.adyen.com/payment-methods/cards/click-to-pay">Click to Pay</a>.
                ]]>
            </comment>
            <source_model>Magento\Config\Model\Config\Source\Yesno</source_model>
            <config_path>payment/adyen_cc/enable_click_to_pay</config_path>
        </field>
        <field id="threeds_flow" translate="label" type="select" sortOrder="50" showInDefault="1" showInWebsite="1">
            <label>3D Secure 2 authentication flow</label>
            <comment>
                <![CDATA[
                Choose your preferred <a target="_blank" href="https://docs.adyen.com/online-payments/3d-secure">3D Secure 2 authentication implementation</a>.
                ]]>
            </comment>
            <tooltip>
                Select Native to perform 3D Secure 2 authentication natively on your website when available. Native authentication may require modifying your Content Security Policy (CSP) to load the 3D Secure 2
                interfaces. If you do not want to adjust your CSP, select Redirect.
            </tooltip>
            <source_model>Adyen\Payment\Model\Config\Source\ThreeDSFlow</source_model>
            <config_path>payment/adyen_cc/threeds_flow</config_path>
        </field>
    </group>
</include>
